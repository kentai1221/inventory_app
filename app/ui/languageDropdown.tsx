'use client';
import { useRouter } from "next/navigation";
import {useTranslations} from 'next-intl';
import Cookies from 'js-cookie';
import {
  Dropdown
} from "flowbite-react";

export default function LanguageDropdown() {
    const i18n = useTranslations('navBar');
    const router = useRouter();
    const changeLanguage = (locale:string) => {
      Cookies.set('locale', locale);
      router.refresh();
    };
    return (
      <Dropdown
        arrowIcon={false}
        inline
        label={
          <span className="inline-flex cursor-pointer justify-center rounded p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:text-white">
            <span className="sr-only">Current language</span>
            {i18n('lang')}
          </span>
        }
      >
        <ul className="py-1" role="none">
          <li key="en">
            <span
              onClick={() => changeLanguage('en')}
              className="cursor-pointer block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 dark:text-white"
            >
              <div className="inline-flex items-center">
                {/*<svg className="mr-2 h-5 w-5" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" shapeRendering="geometricPrecision" textRendering="geometricPrecision" imageRendering="optimizeQuality" fillRule="evenodd" clipRule="evenodd" viewBox="0 0 512 512"><g fillRule="nonzero"><path fill="#999" d="M256 0c70.68 0 134.69 28.66 181.01 74.99C483.34 121.31 512 185.32 512 256c0 70.68-28.66 134.69-74.99 181.01C390.69 483.34 326.68 512 256 512c-70.68 0-134.69-28.66-181.01-74.99C28.66 390.69 0 326.68 0 256c0-70.68 28.66-134.69 74.99-181.01C121.31 28.66 185.32 0 256 0z"/><path fill="#fff" d="M256 19.48c65.3 0 124.46 26.48 167.25 69.27l1.09 1.18c42.14 42.71 68.18 101.37 68.18 166.06 0 65.31-26.5 124.46-69.29 167.25l-1.18 1.09c-42.73 42.16-101.4 68.19-166.05 68.19-65.23 0-124.37-26.51-167.18-69.33-42.84-42.74-69.33-101.89-69.33-167.2 0-65.31 26.48-124.45 69.27-167.24C131.55 45.96 190.7 19.48 256 19.48z"/><path fill="#FEFEFE" d="M256 39.59c119.52 0 216.41 96.89 216.41 216.4 0 119.52-96.89 216.42-216.41 216.42-119.51 0-216.4-96.9-216.4-216.42 0-119.51 96.89-216.4 216.4-216.4z"/><path fill="#012169" d="M183.49 179.55V52.05c-41.32 14.7-76.85 41.61-102.27 76.35l102.27 51.15zm0 152.9v127.5c-41.3-14.7-76.82-41.59-102.26-76.35l102.26-51.15zm144.55 0v127.67c41.45-14.63 77.09-41.54 102.61-76.34l-102.61-51.33zm0-152.9V51.88c41.45 14.63 77.11 41.54 102.62 76.35l-102.62 51.32z"/><path fill="#C8102E" d="M448.3 328.16h-48.11l49.35 24.72c3.21-6.41 6.11-13 8.69-19.75l-9.93-4.97zm-9.34-187.76-86.42 43.33h48.11l48.95-24.5c-3.23-6.46-6.79-12.75-10.64-18.83zM212.41 299.26v168.75c14.08 2.87 28.66 4.4 43.59 4.4 14.76 0 29.19-1.49 43.13-4.3V299.26h168.94c2.83-13.98 4.34-28.44 4.34-43.27 0-14.88-1.51-29.42-4.37-43.47H299.13V43.9A217.404 217.404 0 0 0 256 39.59c-14.93 0-29.51 1.54-43.59 4.4v168.53H43.97a217.777 217.777 0 0 0-4.37 43.47c0 14.83 1.51 29.29 4.34 43.27h168.47zM63.12 183.84h48.11l-48.89-24.48c-3.2 6.41-6.11 13.02-8.68 19.76l9.46 4.72zm95.87 144.43h-48.11l-48.57 24.31A216.76 216.76 0 0 0 73 371.52l86.43-43.25h-.44z"/></g></svg>*/}
                <span className="whitespace-nowrap">Eng</span>
              </div>
            </span>
          </li>
          <li key="hk">
            <span
              onClick={() => changeLanguage('hk')}
              className="cursor-pointer block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-white"
            >
              <div className="inline-flex items-center">
                {/*<svg className="mr-2 h-5 w-5" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" shapeRendering="geometricPrecision" textRendering="geometricPrecision" imageRendering="optimizeQuality" fillRule="evenodd" clipRule="evenodd" viewBox="0 0 512 512"><g fillRule="nonzero"><path fill="#4D4D4D" d="M256 0c70.684 0 134.689 28.664 181.012 74.987C483.336 121.311 512 185.316 512 256c0 70.684-28.664 134.689-74.988 181.013C390.689 483.336 326.684 512 256 512c-70.677 0-134.689-28.664-181.013-74.987C28.664 390.689 0 326.676 0 256c0-70.684 28.664-134.689 74.987-181.013C121.311 28.664 185.316 0 256 0z"/><path fill="#fff" d="M256.001 19.597c65.278 0 124.382 26.466 167.162 69.242 42.777 42.78 69.242 101.884 69.242 167.162S465.94 380.384 423.16 423.16c-42.777 42.78-101.881 69.246-167.159 69.246-65.278 0-124.383-26.466-167.162-69.243-42.777-42.779-69.243-101.884-69.243-167.162S46.062 131.619 88.839 88.839c42.779-42.776 101.884-69.242 167.162-69.242z"/><path fill="#DE2910" d="M256.001 39.594c119.517 0 216.407 96.887 216.407 216.407 0 119.518-96.89 216.407-216.407 216.407-119.521 0-216.407-96.889-216.407-216.407 0-119.52 96.886-216.407 216.407-216.407z"/><path fill="#fff" d="M249.537 259.152c6.898-79.807 108.271-78.383 125.455-9.742-11.386-11.278-25.068-9.088-34.593 2.627-10.729 13.03-35.471 10.617-44.556.654-14.775-16.526-39.191-12.915-46.306 6.461 77.946-18.17 108.049 78.821 48.058 116.371 7.224-14.34.878-26.601-13.136-32.075-15.766-6.132-21.126-30.429-14.339-42.147 11.054-19.379 0-41.38-20.583-42.149zm0-.106c-73.787-31.2-41.052-127.211 29.448-122.391-14.234 7.336-16.31 21.021-8.21 33.719 9.087 14.231-.875 37.001-13.137 42.581-20.251 9.088-24.305 33.499-8.101 46.091zm-.106.106c-52.44 60.537-133.668-.22-107.282-65.905 2.518 15.874 14.882 22.006 29.556 18.176 16.312-4.271 34.922 12.258 36.457 25.725 2.405 22.113 24.294 33.499 41.269 22.004zm.106.109c41.383 68.532-41.597 127.096-95.788 81.665 15.869 2.41 25.615-7.441 26.381-22.444.983-16.855 22.441-29.442 35.685-26.709 21.792 4.488 39.416-12.807 33.722-32.512z"/><path fill="#DE2910" d="M293.544 312.905l-.437-7.662 5.694 5.255 7.222-2.85-3.285 7.006 4.928 5.909-7.661-.874-4.16 6.569-1.529-7.553-7.447-1.97 6.675-3.83zm20.801-79.041l-7.445-1.97 6.787-3.722-.44-7.664 5.692 5.254 7.229-2.847-3.287 7.004 4.928 5.915-7.664-.878-4.16 6.458-1.64-7.55zm-63.605 24.249c1.962-9.464 8.592-18.811 18.068-25.021 11.386-7.441 25.394-9.848 38.424-6.569l.437-1.75c-13.573-3.39-28.133-.986-39.848 6.787-9.99 6.622-16.849 16.075-18.928 26.127-8.366-4.789-15.139-13.997-18.187-24.918-3.61-13.139-1.529-27.152 5.695-38.536l-1.53-.986c-7.446 11.827-9.633 26.495-5.914 40.068 3.148 11.548 10.021 20.984 18.978 26.082-7.149 6.539-17.956 10.021-29.27 9.498-13.579-.655-26.277-6.893-34.925-17.295l-1.423 1.206c8.982 10.728 22.226 17.295 36.24 17.953 11.954.526 23.006-3.073 30.648-10.019 3.951 8.835 3.987 20.226.003 30.819-4.817 12.695-14.78 22.878-27.261 27.915l.661 1.75c13.027-5.255 23.318-15.763 28.241-28.902 4.213-11.275 4.168-22.959-.139-32.315 9.728-1.175 20.689 2.332 29.59 9.434 10.62 8.43 17.189 21.023 18.064 34.482l1.867-.106c-.989-14.016-7.776-27.038-18.722-35.797-9.375-7.48-20.572-11.108-30.769-9.907zm-1.172.978l.069.011.008.064-.066.028-.042-.042.031-.061zm-4.079-69.346l-4.16 6.569-1.532-7.555-7.444-1.967 6.79-3.725-.441-7.662 5.695 5.255 7.221-2.85-3.285 7.006 4.929 5.91-7.773-.981zm-63.167 51.78l4.929 5.912-7.665-.877-4.156 6.569-1.533-7.55-7.558-1.973 6.784-3.722-.437-7.664 5.694 5.257 7.224-2.847-3.282 6.895zm29.668 76.197l7.222-2.85-3.283 7.007 4.926 5.914-7.661-.883-4.16 6.461-1.529-7.553-7.444-1.973 6.784-3.722-.438-7.664 5.583 5.263z"/></g></svg>*/}
                <span className="whitespace-nowrap">繁體</span>
              </div>
            </span>
          </li>
        </ul>
      </Dropdown>
    );
}